<!DOCTYPE html>
<!-- saved from url=(0068)http://mixedrealitylab.io/project_websites/LucasRobertson/index.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Required meta tags -->
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="./Procedural Terrain_files/css" rel="stylesheet">
    <link rel="stylesheet" href="./Procedural Terrain_files/bootstrap.min.css">
    <link rel="stylesheet" href="./Procedural Terrain_files/shards.min.css">
    <link rel="stylesheet" href="./Procedural Terrain_files/main.css">
    <title>Sam's Project</title>
</head>
<body>
<div class="headbar">
    <h1>Room + Procedural Terrain</h1>
    <h4>Samuel Wallan - Winter 2021</h4>
    <small><a href="https://github.com/swallan/471-final-proj">GitHub Link</a></small>
</div>
<div class="container">


    <div class="row">
        <div class="col-12">
            <div class="card">
                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleIndicators" data-slide-to="0" class=""></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="1" class=""></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="2" class="active"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
                    </ol>
                    <div class="carousel-inner" style="border-radius: 10px;">
                        <div class="carousel-item">
                            <img class="d-block w-100" src="./Procedural Terrain_files/background.png" alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="./Procedural Terrain_files/background2.png" alt="Second slide">
                        </div>
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="./Procedural Terrain_files/background3.png" alt="Third slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="./Procedural Terrain_files/background4.png" alt="Fourth slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="./Procedural Terrain_files/background5.png" alt="Fifth slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="./Procedural Terrain_files/background6.png" alt="Sixth slide">
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <h3 class="card-title">Introduction</h3>
            <p class="card-text">As a final project for the Winter 2021 section of Graphics 471, I created a procedural terrain along with a room. My original goal for the project was to create a type of game, but I found it much more interesting to
            work on implementing the various graphics techniques that we learned in class than to code some sort of game logic onto the project.</p>
        </div>
    </div>
    <hr>


    <div class="row">
        <div class="col-sm-12 col-md-6">
            <h3 class="card-title">
                Bloom
            </h3>
            <p class="card-text">
                Bloom is a nice way to help the user realize how bright objects are the in the scene. A drawback of the current implementation is that it is subtle due to the resolution of the rendering. A higher resolution rendering requires a larger blur to be visible, and this requires a much larger amount of computational power.
            </p>
            <p class="card-text">
                For now, the Bloom effect is on the sun and this lightbulb. When far away it can be easier to see the effect, or when the sun is turned off.
            </p>

        </div>
        <div class="col-sm-12 col-md-6">
            <div class="card">
                <img class="card-img" src="./Procedural Terrain_files/bloom_close.png" alt="">
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div class="card">
                <img class="card-img" src="./Procedural Terrain_files/bloom.png" alt="" width="100%">
            </div>
        </div>
    </div>
    <hr>


    <div class="row">
        <div class="col-12">
            <h3 class="card-title">
                Tessellation
            </h3>
            <p class="card-text">
                Tessellation allows us to make the mesh better as you get closer to it. This makes things seem higher resolution when closer.
            </p>

            <p class="card-text">
                Far away elements have fewer triangles. Elements that are closer have more triangles. Take a look at how the number of triangles is different depending on how close you are to the same mountain:
            </p>

        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div class="card-deck">
                <div class="card">
                    <img class="card-img" src="./Procedural Terrain_files/t1.png" alt="" height="100%">
                    <div class="card-img-overlay" style="background-color: transparent">
<!--                        <div class="text-white">With minor tessellation</div>-->
                    </div>
                </div>
                <div class="card">
                    <img class="card-img" src="./Procedural Terrain_files/t2.png" alt="">
                    <div class="card-img-overlay" style="background-color: transparent">
<!--                        <div class="text-white">With more tessellation</div>-->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <hr>


    <div class="row">
        <div class="col-12">
            <h3 class="card-title">
                God Rays
            </h3>
            <p class="card-text">
                God Rays really take a toll on the my computer. It's all worth it since they look so cool.
            </p>
            <p class="card-text">
                Take a look at the same scene with the god rays on and off.
            </p>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="card-deck">
                <div class="card">
                    <img class="card-img" src="./Procedural Terrain_files/g1.png" alt="">
                    <div class="card-img-overlay" style="background-color: transparent">
<!--                        <div class="text-white">-->
<!--                            Plain texture - tiling is apparent-->
<!--                        </div>-->
                    </div>
                </div>
                <div class="card">
                    <img class="card-img" src="./Procedural Terrain_files/g2.png" alt="" height="100%">
                    <div class="card-img-overlay" style="background-color: transparent">
<!--                        <div class="text-white">-->
<!--                            Detiled texture - much less apparent tiling-->
<!--                        </div>-->
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <small>FBO Fragment Shader</small>
                </div>
                <div class="card-body">
                    <pre><code>
if (raysOn == 1.0){
        vec4 light_screen_position = P * V * M * vec4(0.0f,0.0f, 1.0f, 1.0f);
        light_screen_position.xy /= light_screen_position.w;
        vec2 lightPositionOnScreen = vec2( light_screen_position.xy / 2.0);
        color = texture(colorTexure, TexCoords.xy);
        color.a = 1;
        int NUM_SAMPLES = 100;

        vec2 deltaTextCoord= vec2(TexCoords.xy - lightPositionOnScreen - vec2(.5, .5));
        vec2 textCoo = fragTex;
        float density=0.9f;
        float weight=6.0f;
        float exposure=0.0034;
        float decay=1.0f;

        deltaTextCoord *= 1.0 / float(NUM_SAMPLES) * density;
        float illuminationDecay = 1.0f;

        vec4 godray = texture(BWTexure, TexCoords.xy);

        for (int i = 0; i < NUM_SAMPLES; i++){
            textCoo -= deltaTextCoord;
            vec4 sampleGR = texture(BWTexure, textCoo);
            sampleGR *= illuminationDecay * weight;
            godray += sampleGR;
            illuminationDecay *= decay;
        }
        godray *= exposure;

        color = (color + godray) /1.0f;

        light_screen_position = P1 * V1 * M1 * vec4(0.0f,0.0f, 1.0f, 1.0f);
        light_screen_position.xy /= light_screen_position.w;
        lightPositionOnScreen = vec2( light_screen_position.xy / 2.0);
//        color = texture(colorTexure, TexCoords.xy);
//        color.a = 1;
        NUM_SAMPLES = 100;

        deltaTextCoord= vec2(TexCoords.xy - lightPositionOnScreen - vec2(.5, .5));
        textCoo = fragTex;
        density=0.9f;
        weight=2.0f;
        exposure=0.0024;
        decay=1.0f;

        deltaTextCoord *= 1.0 / float(NUM_SAMPLES) * density;
        illuminationDecay = 1.0f;

        godray = texture(BWTexure, TexCoords.xy);

        for (int i = 0; i < NUM_SAMPLES; i++){
            textCoo -= deltaTextCoord;
            vec4 sampleGR = texture(BWTexure, textCoo);
            sampleGR *= illuminationDecay * weight;
            godray += sampleGR;
            illuminationDecay *= decay;
        }
        godray *= exposure;
                    </code></pre>
                </div>
                <div class="card-footer text-center">
                    <small>Code that blends rays and color of the scene.</small>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-md-6">
            <h4 class="card-title">
                How it works
            </h4>
            <p class="card-text">
                One texture is all black, except for the sun. This allows us to block out the mountains from the rays.
            </p>
            <p class="card-text">
                Take a look at the two textures, unblended:
            </p>
        </div>


    </div>
    <div class="row">
        <div class="col-12">
            <div class="card-deck">
                <div class="card">
                    <img class="card-img" src="./Procedural Terrain_files/c1.png" alt="" height="100%">
                    <div class="card-img-overlay" style="background-color: transparent">
                        <div class="text-white">
                            Pass 1
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img class="card-img" src="./Procedural Terrain_files/c2.png" alt="">
                    <div class="card-img-overlay" style="background-color: transparent">
                        <div class="text-white">
                            Pass 2
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <hr>


    <div class="row">
        <div class="col-sm-12 col-md-6">
            <div class="card">
                <img class="card-img" src="./Procedural Terrain_files/daynight1.gif" alt="">
            </div>
        </div>
        <div class="col-sm-12 col-md-6">
            <div class="card">
                <video controls>
                    <source src="./Procedural Terrain_files/15sclip.mov" type="video/mov">
                    <source src="./Procedural Terrain_files/15sclip.mov" type="video/ogg">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
        <div class="col-sm-12 col-md-6">
            <h3 class="card-title">
                Infinite Terrain
            </h3>
            <p class="card-text">
                Infinite terrain is done by moving the mesh and grass texture along with the movement of the camera.
            </p>
            <p class="card-text">
                Heights are generated using a noise function.
            </p>
<!--            <div class="col-sm-12 ">-->
<!--                <div class="card">-->

<!--&lt;!&ndash;                    <img class="card-img" src="./Procedural Terrain_files/daynight1.gif" alt="">&ndash;&gt;-->
<!--                </div>-->
<!--            </div>-->
        </div>
        <div class="col-sm-12 col-md-6">
            <h3 class="card-title">
                Demo Video
            </h3>
            <p class="card-text">
                The above is a 15s video demo of the project.
            </p>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <h3 class="card-title text-center">
                References
            </h3>
            <div class="card">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><a href="https://youtu.be/xogODBuD2Qg">Video Demo</a></li>
                    <li class="list-group-item"><a href="https://github.com/swallan/471-final-proj">Project Link (GitHub)</a></li>
                    <li class="list-group-item"><a href="https://github.com/swallan/471-final-proj/blob/master/project_zip.zip">ZIP DOWNLOAD (only essential files to run)</a></li>

                    <li class="list-group-item"><a href="http://mixedrealitylab.io/people.html">Wood/Dunn/Eckhardt - Lab Base Code</a></li>
                </ul>
            </div>

        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="./Procedural Terrain_files/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="./Procedural Terrain_files/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="./Procedural Terrain_files/bootstrap.min.js"></script>
    <script src="./Procedural Terrain_files/shards.min.js"></script>

</div></body></html>